---
title: ã€Œ44ã€redis-sdsæºç 
date: '2021/04/12 23:15:43'
updated: '2021/07/26 13:09:17'
tags:
  - Redis
  - SDS
abbrlink: 9989a7c4
---

>SDSåœ¨redisä¸­ä¹Ÿç®—æ˜¯ç”¨æ¥å­˜å‚¨stringé«˜æ•ˆçš„åšæ³•ï¼Œé‡‡ç”¨header+stringçš„å½¢å¼ã€‚



### å­¦å®Œé¢„æœŸçš„ç›®æ ‡:
* SDS ç»“æ„ç±»å‹
* SDS ç»“æ„ä¸ºä½•é«˜æ•ˆï¼Ÿ
* åˆ›å»ºï¼Ÿ
* æ‰©å®¹ï¼Ÿ
* é‡Šæ”¾ï¼Ÿ
* å¤åˆ¶ï¼Ÿ
* Joinè¿æ¥ï¼Ÿ
* Resize the allocation ï¼Ÿï¼Ÿ
* å…¶å®ƒ
<!--more-->

### SDSç»“æ„


> [â˜â˜ SDSå®˜æ–¹å®šä¹‰](https://github.com/redis/redis/blob/unstable/src/sds.h#L43) 


>âš™ï¸ 4ç§å¤§å°çš„å®šä¹‰ï¼Œé€‚é…ä¸åŒçš„åœºæ™¯éœ€æ±‚ã€‚

![](https://crab-1251738482.cos.ap-guangzhou.myqcloud.com/clipboard_20210726_112207.png)

### whyé«˜æ•ˆ?

#### è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼šO(1)

sds: O(1)
cå­—ç¬¦ä¸²ï¼š O(N)

#### é˜²æ­¢å†…å­˜æº¢å‡º

sds: å°è£…å¥½çš„å‡½æ•°ï¼Œæ˜“äºæ“ä½œå’Œæ£€æŸ¥
cå­—ç¬¦ä¸²ï¼šæ“ä½œä¸å½“æ˜“å†…å­˜æº¢å‡º

#### å†…å­˜åˆ†é…

sds: ç©ºé—´é¢„åˆ†é…å’Œæƒ°æ€§é‡Šæ”¾
cå­—ç¬¦ä¸²ï¼šæ— æ­¤ç‰¹æ€§

#### äºŒè¿›åˆ¶å®‰å…¨

sds: æŒ‰ç…§äºŒè¿›åˆ¶æ–¹å¼å¤„ç†ï¼Œå› æ­¤æ— é™åˆ¶
cå­—ç¬¦ä¸²ï¼šå¿…é¡»ç¬¦åˆç¼–ç ï¼ˆasciiï¼‰ï¼Œé™åˆ¶cä¸­ä¸èƒ½ä¿å­˜å›¾ç‰‡å’ŒéŸ³é¢‘ç­‰

### SDS APIåˆ—è¡¨

>å¾…æ›´æ–°...

### Reference

* [â˜ SDSå®˜æ–¹å®šä¹‰](https://github.com/redis/redis/blob/unstable/src/sds.h#L43)




* [ğŸ‘‰ğŸ¿ Simple Dynamic Strings](https://github.com/antirez/sds)