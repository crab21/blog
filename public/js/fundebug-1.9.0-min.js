var _0x1172=["target","join","exports","ifReportHttpError","sendHttpErrorToFundebug","test","fundebugHttpRecorded","fundebugTemp","indexOf","onerror","href","getTime","function","silentConsole","silent","silentbehavior","silentPerformance","getAttribute","defineProperty","getConfig","fetchSequence","revideo","name","type","userAgent","push","object","location","message"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(_0x1172,279);var _0x3a2d=function(e,t){return _0x1172[e-=0]};!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fundebug=t():e.fundebug=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object[_0x3a2d("0x0")](r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1),o=n(7),i=n(9),a=n(10),u=n(12),s=n(14),c=n(15),l=n(16),f=n(17),d=n(18),p=n(19),m=n(20),y=n(21),g=n(22),v=y[_0x3a2d("0x1")]();r(v,g),o(v,g),i(v,g),a(v,g),u(v,g),s(v,g),c(v,g),l(v,g),f(v,g),d(v,g),p(v,g),m(v,g),window.fundebug=v,e.exports=v},function(e,t,n){var r=n(2);e.exports=function(e,t){"addEventListener"in window&&window.addEventListener("unhandledrejection",(function(n){try{var o={type:"unhandledrejection",name:"unhandledrejection",message:n.reason};r(o,e,t)}catch(e){}}))}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(3),i=n(4),a=n(5),u=n(6),s="https://web.fundebug.net/event/";function c(e,t,n){var r=t.apikey;if(i.verifyApiKey(r)&&t.maxEventNumber&&!t.silent&&!a(t.silentDev)){var c;t.maxEventNumber-=1,c=t.revideo&&t.revideo[_0x3a2d("0x2")]&&t[_0x3a2d("0x3")].fetchSequence();var f,d=n.getBreadcrumbs();t.silentPerformance||(f=u.getPerformance());var p={notifierVersion:"1.9.0",userAgent:window.navigator.userAgent,locale:window.navigator.language||window.navigator.userLanguage,url:window.location.href,title:document.title,appVersion:t.appversion,apiKey:t.apikey,releaseStage:t.releasestage,metaData:e.metaData||t.metaData,user:e.user||t.user,name:e[_0x3a2d("0x4")],time:(new Date).getTime(),message:e.message,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stacktrace:e.stacktrace,type:e[_0x3a2d("0x5")],severity:e.severity,target:e.target,req:e.req,res:e.res,httpTimeout:e.httpTimeout,breadcrumbs:d,redo:c,performance:f};p.userAgent&&p[_0x3a2d("0x6")].match(/Googlebot/)||(t.callback&&t.callback(p),o.isFiltered(p,t.filters)||i.isSampled(t.sampleRate)&&function(e){var t=function(e){var t;try{t=l(e)}catch(n){delete e.metaData;try{t=l(e)}catch(e){return}}return t}(p);if(t)if(window.XMLHttpRequest&&window.atob){var n=new XMLHttpRequest;n.sendByFundebug=!0,n.open("POST",s),n.setRequestHeader("Content-Type","application/json"),n.send(t)}else(new Image).src=s+"?event="+encodeURIComponent(t)}())}}function l(e){if("undefined"!=typeof JSON)return JSON.stringify(e);if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t[_0x3a2d("0x7")](l(e[n]));return"["+t.join(",")+"]"}var o=[];for(var i in e)if(e.hasOwnProperty(i)){var a='"'+i+'":',u=e[i];u&&(_0x3a2d("0x8")===r(u)?a+=l(u):"number"==typeof u?a+=u:a=a+'"'+u.replace(/\n/g,"\\n")+'"',o.push(a))}return"{"+o.join(",")+"}"}e.exports=function(e,t,n){t.revideo?setTimeout((function(){c(e,t,n)}),1e3):c(e,t,n)}},function(e,t){function n(e,t){if(!e)return!1;if(!t)return!1;if(Object.keys&&!Object.keys(t).length)return!1;for(var r in t)if(t.hasOwnProperty(r))if(t[r].constructor===RegExp){if(!t[r].test(e[r]))return!1}else if(t[r].constructor===Object){if(!n(e[r],t[r]))return!1}else{if(t[r].constructor!==String||"inexistence"!==t[r])return!1;if(e.hasOwnProperty(r))return!1}return!0}t.isFiltered=function(e,t){if(!t||!t.length)return!1;for(var r=0;r<t.length;r++)if(n(e,t[r]))return!0;return!1}},function(e,t){t.isSampled=function(e){return!e&&0!==e||(e=parseFloat(e),!!isNaN(e)||Math.random()<=e)},t.verifyApiKey=function(e,t){return e?!!e.match(/^[0-9a-z]{64}$/i)||(t||console.error("Fundebug: apikey格式错误"),!1):(t||console.error("Fundebug: 请配置apikey"),!1)}},function(e,t){e.exports=function(e){return!(!e||!(t=window[_0x3a2d("0x9")].href)||!/^http:\/\/localhost/.test(t)&&!/^http:\/\/(\d{1,3}\.){3}\d{1,3}/.test(t));var t}},function(e,t){t.getPerformance=function(){if("performance"in window){if("getEntriesByType"in performance)var e={navigation:performance.getEntriesByType("navigation")};return e}}},function(e,t,n){var r=n(2),o=n(8);e.exports=function(e,t){window.onerror=function(n,i,a,u,s){var c;void 0===u&&window.event&&(u=window.event.errorCharacter),c=i&&i!==window.location.href?i:null;var l=o(s),f={message:n,lineNumber:a,columnNumber:u,fileName:c||l&&l.fileName,name:l&&l.name||"uncaught error",stacktrace:s&&s.stack||function(){var e,t,n=[];try{t=arguments.callee.caller.caller}catch(e){t=""}for(;t&&n.length<10;){var r=t.toString().match(/function\s*([\w\_$]+)?\s*\(/i);e=r&&r[1]||"[anonymous]",n.push(e),t=t.caller}return"generated-stack:\n"+n.join("\n")}(),severity:"error",type:"uncaught"};return r(f,e,t),!1}}},function(e,t){e.exports=function(e){if(!e)return null;var t={};return window.XMLHttpRequest?t={name:e.name,message:e.message,fileName:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber||e.column}:t.message=e[_0x3a2d("0xa")],t}},function(e,t,n){var r=n(2);e.exports=function(e,t){window.addEventListener&&window.addEventListener("error",(function(n){try{if(e.silentResource||n.message)return;var o,i=(o=n.target?n[_0x3a2d("0xb")]:n.srcElement)&&o.outerHTML;i&&200<i.length&&(i=i.slice(0,200));var a={type:"resourceError",target:{outerHTML:i,src:o&&o.src,tagName:o&&o.tagName,id:o&&o.id,className:o&&o.className,name:o&&o.name,type:o&&o.type,XPath:function(e){for(var t=[];e&&e.nodeType==Node.ELEMENT_NODE;e=e.parentNode){var n,r=0,o=!1;for(n=e.previousSibling;n;n=n.previousSibling)n.nodeType!=Node.DOCUMENT_TYPE_NODE&&n.nodeName==e.nodeName&&++r;for(n=e.nextSibling;n&&!o;n=n.nextSibling)n.nodeName==e.nodeName&&(o=!0);var i=(e.prefix?e.prefix+":":"")+e.localName,a=r||o?"["+(r+1)+"]":"";t.splice(0,0,i+a)}return t.length?"/"+t.join("/"):null}(o),selector:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,r=e;r.previousElementSibling;r=r.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t[_0x3a2d("0xc")](" > ")}(o),timeStamp:n.timeStamp}};if(o.src===window.location.href)return;if(o.src&&o.src.match(/.*\/(.*)$/)&&!o.src.match(/.*\/(.*)$/)[1])return;if(a.target.src&&window.XMLHttpRequest){var u=new XMLHttpRequest;u.sendByFundebug=!0,u.open("HEAD",a.target.src),u.send(),u.onload=function(n){200!==n.target.status&&(a.target.status=n.target.status,a.target.statusText=n.target.statusText),r(a,e,t)}}}catch(e){}}),!0)}},function(e,t,n){var r=n(11);e[_0x3a2d("0xd")]=function(e,t){if(window.fetch){var n=window.fetch;window.fetch=function(o,i){var a=(new Date).getTime();return n.apply(this,arguments).then((function(n){return function(n){try{var o=(new Date).getTime()-a,u=i&&i.method||"GET",s=n.url,c=n.status,l=n.statusText;!function(n,o,i,a,u){if(!e.silentHttp&&(r.ifReportHttpError(i,o)||r.ifReportHttpTimout(u,e.httpTimeout))){var s,c={method:n,url:o},l={status:i,statusText:a,elapsedTime:u};s=r[_0x3a2d("0xe")](i,o)?"httpError":"httpTimeout",r[_0x3a2d("0xf")](s,c,l,e,t)}}(u,s,c,l,o),function(n,r,o,i,a,u){if(!e.silentBehavior){var s={type:"fetch",page:{url:window[_0x3a2d("0x9")].href,title:document.title},detail:{method:n,url:r,status:o,statusText:i},elapsedTime:a,time:u};t.addBreadcrumb(s)}}(u,s,c,l,o,a)}catch(e){}}(n),n}))}}}},function(e,t,n){var r=n(2);t.ifReportHttpTimout=function(e,t){return"number"==typeof t&&t<e},t.ifReportHttpError=function(e,t){return!(0===e&&/^file:\/\/\//.test(t)||/^2\d\d$/[_0x3a2d("0x10")](e))},t.sendHttpErrorToFundebug=function(e,t,n,o,i){var a={type:e,req:t,res:n};"number"==typeof o.httpTimeout&&(a.httpTimeout=o.httpTimeout),r(a,o,i)}},function(e,t,n){var r=n(13),o=n(11);e.exports=function(e,t){if(window.XMLHttpRequest&&window.XMLHttpRequest.prototype){var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t){try{this.fundebugTemp={method:e,url:t,startTime:(new Date).getTime()}}catch(e){}n&&n.apply(this,arguments)};var i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(n){try{if(!this.sendByFundebug){var a=this;a.fundebugTemp[_0x3a2d("0x11")]=!1;var u=a.onloadend;a.onloadend=function(){!function(n,i){try{var a,u=(new Date).getTime(),s=n.fundebugTemp.startTime,c=u-s,l=n.fundebugTemp.method,f=n.responseURL||n.fundebugTemp.url,d=n.status,p=n.statusText,m=n.response;e.setHttpBody&&(a=r.copyWithoutPrivacy(i)),n[_0x3a2d("0x12")].fundebugHttpRecorded||(function(n,r,i,a,u,s,c){if(!e.silentHttp&&(o.ifReportHttpError(a,r)||o.ifReportHttpTimout(c,e.httpTimeout))){var l,f={method:n,url:r,body:i},d={status:a,statusText:u,response:s,elapsedTime:c};l=o.ifReportHttpError(a,r)?"httpError":"httpTimeout",o.sendHttpErrorToFundebug(l,f,d,e,t)}}(l,f,a,d,p,m,c),function(n,r,o,i,a,u){if(!e.silentBehavior){var s={type:"XMLHttpRequest",page:{url:window.location.href},detail:{method:n,url:r,status:o,statusText:i},elapsedTime:a,time:u};t.addBreadcrumb(s)}}(l,f,d,p,c,s),n.fundebugTemp.fundebugHttpRecorded=!0)}catch(e){}}(a,n),u&&u.apply(this,arguments)}}}catch(e){}i&&i.apply(this,arguments)}}}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.copyWithoutPrivacy=function(e){try{var t=e;return"string"==typeof e&&(t=JSON.parse(e)).password&&(t.password="Fundebug: deleted for protectiong privary"),t}catch(t){return e}},t.copyWithoutCircle=function(e){return e&&"object"===n(e)&&function(e){try{JSON.stringify(e)}catch(e){return-1!==e.message.indexOf("Converting circular structure to JSON")||-1!==e.message.indexOf("JSON.stringify cannot serialize cyclic structures")||-1!==e.message.indexOf("cyclic object value")||-1!==e.message[_0x3a2d("0x13")]("Circular reference in value argument not supported")||-1!==e.message[_0x3a2d("0x13")]("循环引用")}return!1}(e)?"entries"in Object?function e(t,r){try{var o={};return Object.entries(t).forEach((function(t){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n[_0x3a2d("0x7")](a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,2),a=i[0],u=i[1];_0x3a2d("0x8")===n(u)&&null!==u?r.has(u)?o[a]="property removed because of circular structure":10<r.size?o[a]="property removed to avoid deep recursion":(r.add(u),o[a]=e(u,r)):o[a]=u})),o}catch(e){return t}}(e,new Set([e])):{}:e}},function(e,t,n){var r=n(2);e.exports=function(e,t){try{if(e.silentWebsocket)return;if(!("WebSocket"in window))return;var n=Object.getOwnPropertyDescriptor(WebSocket.prototype,"onerror");if(!n)return;if(!n.configurable)return;Object.defineProperty(WebSocket.prototype,"onerror",{set:function(){if(e.silentWebsocket)return n.set.apply(this,arguments);try{var o=arguments[0];return n.set.apply(this,[function(n){try{var i={type:"websocketError",target:{type:_0x3a2d("0x14"),url:n.target.url,timeStamp:n.timeStamp}};r(i,e,t),"function"==typeof o&&o.apply(this,arguments)}catch(e){"function"==typeof o&&o.apply(this,arguments)}}])}catch(e){return n.set.apply(this,arguments)}}})}catch(e){}}},function(e,t,n){var r=n(2),o=n(8);e.exports=function(e,t){e.notifyError=function(n,i){if(n){window.console&&console.error(n);var a=o(n),u={name:a.name||i&&i.name||"caught error",message:a.message||i&&i.message,stacktrace:n.stack,fileName:a.fileName,lineNumber:a.lineNumber,columnNumber:a.columnNumber,severity:i&&i.severity||"error",type:"caught",user:i&&i.user,metaData:i&&i.metaData};r(u,e,t)}}}},function(e,t,n){var r=n(2),o=n(4);e.exports=function(e,t){e.notify=function(n,i,a){if(n){var u={name:n||a&&a.name,message:i||a&&a.message,severity:a&&a.message||"warning",stacktrace:function(){var e;try{throw new Error("")}catch(t){e=t.stack}return e?e="generated-stack:\n"+(e=(e=e.replace(/(.*?)fundebug(.*?)\.js(.*)\n?/gm,"")).replace(/^Error\n/g,"")):void 0}(),type:"notification",user:a&&a.user,metaData:a&&a.metaData},s=e.apikey;return o.verifyApiKey(s,!0)?(r(u,e,t),"fundebug.com"===location.host||"www.fundebug.com"===location.host?"亲，不要在Fundebug网站测试哦；请将Fundebug插件集成到您的网站，然后进行测试!":"请查看邮箱以及Fundebug控制台!"):s?"apikey格式错误":"请配置apikey"}}}},function(e,t,n){var r=n(2),o=n(4);e.exports=function(e,t){e.test=function(n,i){var a={name:n||"Test",message:i||"Hello, Fundebug!",severity:"test",type:"test"},u=e.apikey;return o.verifyApiKey(u,!0)?(r(a,e,t),"fundebug.com"===location.host||"www.fundebug.com"===location.host?"亲，不要在Fundebug网站测试哦；请将Fundebug插件集成到您的网站，然后进行测试!":"请查看邮箱以及Fundebug控制台!"):u?"apikey格式错误":"请配置apikey"}}},function(e,t){e.exports=function(e,t){function n(n){var r,o=(r=n[_0x3a2d("0xb")]?n.target:n.srcElement)&&r.outerHTML;o&&200<o.length&&(o=o.slice(0,200));var i={type:"click",page:{url:window[_0x3a2d("0x9")].href,title:document.title},detail:{outerHTML:o,tagName:r&&r.tagName,id:r&&r.id,className:r&&r.className,name:r&&r.name},time:(new Date).getTime()};t.addBreadcrumb(i,e.silentBehavior)}window.addEventListener?window.addEventListener("click",n,!0):document.attachEvent("onclick",n)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e[_0x3a2d("0xd")]=function(e,t){var r={url:window.location.href};document.addEventListener?document.addEventListener("DOMContentLoaded",(function(){r={url:window.location.href,title:document.title}})):document.attachEvent("onreadystatechange",(function(){r={url:window.location.href,title:document.title}}));var o=window.onpopstate;n(o)&&(window.onpopstate=function(){var e={url:window.location[_0x3a2d("0x15")]};if(r.title||(r.title=document.title),r.url!==e.url&&u(r,e),o)return o.apply(this,arguments)});var i=window.history.pushState;i&&(window.history.pushState=function(){r={url:window.location.href,title:document.title};var e={};if(3===arguments.length&&(e.url=arguments[2]),r.url!==e.url&&u(r,e),i)return i.apply(this,arguments)});var a=window.onhashchange;function u(n,o){var i={type:"navigation",detail:{from:n,to:r=o},time:(new Date)[_0x3a2d("0x16")]()};JSON.stringify(i,null,4),t.addBreadcrumb(i,e.silentBehavior)}n(window.onhashchange)&&(window.onhashchange=function(){var e={url:window.location.href,title:document.title};if(r.url!==e.url&&u(r,e),a)return a.apply(this,arguments)})}},function(e,t,n){var r=n(13);e.exports=function(e,t){function n(n){var o=console[n];console[n]=function(){try{var i={type:"console",page:{url:window.location.href,title:document.title},detail:{level:n,arguments:(a=arguments,a[0]instanceof Error?[].slice.apply(a).join(" "):r.copyWithoutCircle(a))},time:(new Date).getTime()};e.silentConsole||t.addBreadcrumb(i,e.silentBehavior)}catch(e){}var a;if(_0x3a2d("0x17")==typeof o)if(o.apply)o.apply(console,arguments);else{var u=Array.prototype.slice.apply(arguments).join(" ");o(u)}}}for(var o=["log","warn","debug","info"],i={},a=0;a<o.length;a++)window.console&&(i[o[a]]=console[o[a]],e.silentConsole||n(o[a]));document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){for(var t=0;t<o.length;t++)window.console&&e[_0x3a2d("0x18")]&&i[o[t]]&&(console[o[t]]=i[o[t]])}))}},function(e,t){var n=function(){var e=document.currentScript;if(!e){var t=document.scripts;e=t[t.length-1]}return e}();t.getConfig=function(){var e={};return e[_0x3a2d("0x19")]=n.getAttribute("silent")||!1,"false"===e.silent&&(e.silent=!1),e.maxEventNumber=n.getAttribute("maxEventNumber")||n.getAttribute("maxeventnumber")||10,e.setHttpBody=n.getAttribute("setHttpBody")||n.getAttribute("sethttpbody")||!1,"false"===e.setHttpBody&&(e.setHttpBody=!1),e.silentResource=n.getAttribute("silentResource")||n.getAttribute("silentresource")||!1,"false"===e.silentResource&&(e.silentResource=!1),e.silentWebsocket=n.getAttribute("silentWebsocket")||n.getAttribute("silentWebsocket")||!1,"false"===e.silentWebsocket&&(e.silentWebsocket=!1),e.silentHttp=n.getAttribute("silentHttp")||n.getAttribute("silenthttp")||!1,"false"===e.silentHttp&&(e.silentHttp=!1),e.silentConsole=n.getAttribute("silentConsole")||n.getAttribute("silentconsole")||!1,"false"===e.silentConsole&&(e.silentConsole=!1),e.sampleRate=n.getAttribute("sampleRate")||n.getAttribute("samplerate"),e.silentBehavior=n.getAttribute("silentBehavior")||n.getAttribute(_0x3a2d("0x1a"))||!1,"false"===e.silentBehavior&&(e.silentBehavior=!1),e.silentPerformance=n.getAttribute(_0x3a2d("0x1b"))||n.getAttribute("silentperformance")||!1,"false"===e.silentPerformance&&(e.silentPerformance=!1),e.silentDev=n.getAttribute("silentDev")||n.getAttribute("silentdev")||!1,"false"===e.silentDev&&(e.silentDev=!1),e.apikey=n[_0x3a2d("0x1c")]("apikey"),e.appversion=n.getAttribute("appversion"),e.releasestage=n.getAttribute("releasestage"),e}},function(e,t){var n=[],r=0;t.addBreadcrumb=function(e,t){t||(n[r]=e,20==++r&&(r=0))},t.getBreadcrumbs=function(){return n}}])}));